<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L·ªãch Ch·ª©ng Kho√°n 2026 - Analyst Edition</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Patrick+Hand&display=swap');

        body { font-family: 'Roboto', sans-serif; background-color: #f1f5f9; -webkit-print-color-adjust: exact; }
        .font-hand { font-family: 'Patrick Hand', cursive; }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        
        /* Grid L·ªãch */
        .calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); border-top: 1px solid #e2e8f0; border-left: 1px solid #e2e8f0; }
        .calendar-cell { min-height: 100px; border-right: 1px solid #e2e8f0; border-bottom: 1px solid #e2e8f0; padding: 4px; position: relative; background: white; }
        
        /* C√°c lo·∫°i s·ª± ki·ªán (Badge) */
        .evt-badge { font-size: 10px; padding: 2px 4px; margin-bottom: 2px; border-radius: 3px; cursor: pointer; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; display: block; font-weight: 500; border-left-width: 3px; }
        .evt-holiday { background: #fef2f2; color: #991b1b; border-left-color: #ef4444; }
        .evt-macro { background: #eff6ff; color: #1e40af; border-left-color: #3b82f6; }
        .evt-etf { background: #f0fdf4; color: #166534; border-left-color: #22c55e; }
        .evt-futures { background: #fff7ed; color: #9a3412; border-left-color: #f97316; }
        .evt-special { background: #faf5ff; color: #6b21a8; border-left-color: #a855f7; font-weight: 700; }
        
        /* CSS D√ÄNH RI√äNG CHO IN ·∫§N (A4 LANDSCAPE) */
        @media print {
            @page { size: A4 landscape; margin: 0.5cm; }
            body { background: white; }
            .no-print { display: none !important; }
            .print-container { display: flex !important; width: 100vw; height: 100vh; page-break-after: always; }
            .print-cal-section { width: 60%; padding-right: 15px; } /* L·ªãch chi·∫øm 60% */
            .print-note-section { width: 40%; padding-left: 15px; border-left: 2px dashed #cbd5e1; } /* Note chi·∫øm 40% */
            
            .calendar-cell { min-height: 80px; } /* Co nh·ªè chi·ªÅu cao √¥ l·ªãch khi in */
            .shadow-xl, .shadow-sm { box-shadow: none !important; }
            .rounded-xl, .rounded-lg { border-radius: 0 !important; }
            
            /* ·∫®n c√°c n√∫t th√™m/x√≥a trong Note khi in, ch·ªâ ƒë·ªÉ d√≤ng k·∫ª */
            .todo-input { border-bottom: 1px dashed #cbd5e1 !important; color: transparent !important; } 
            .todo-input::placeholder { color: transparent !important; }
            .todo-checkbox { border: 1px solid #94a3b8 !important; }
            
            /* D√≤ng k·∫ª cho ph·∫ßn note */
            .print-lines {
                background-image: repeating-linear-gradient(white 0px, white 29px, #e2e8f0 30px);
                height: 100%;
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // --- 1. D·ªÆ LI·ªÜU ƒê√É ƒê∆Ø·ª¢C L√ÄM S·∫†CH V√Ä X·ª¨ L√ù (Clean Data) ---
        // ƒê√£ n·ªëi c√°c d√≤ng b·ªã ng·∫Øt [cite: 1, 2, 7, 8, 11] v√† s·ª≠a ti√™u ƒë·ªÅ N√¢ng h·∫°ng 
        const rawEvents = [
            { date: "2026-01-01", title: "T·∫øt D∆∞∆°ng L·ªãch", type: "holiday", desc: "Ngh·ªâ l·ªÖ to√†n qu·ªëc" },
            { date: "2026-01-06", title: "GSO: KT-XH", type: "macro", desc: "T·ªïng c·ª•c Th·ªëng k√™ c√¥ng b·ªë s·ªë li·ªáu" },
            { date: "2026-01-15", title: "ƒê√°o h·∫°n Ph√°i sinh", type: "futures", desc: "ƒê√°o h·∫°n VN30F2601" },
            { date: "2026-01-19", title: "ETF N·ªôi: Update Info", type: "etf", desc: "C·∫≠p nh·∫≠t: VNDiamond, VNFIN LEAD, VNX, VNDIVIDEND" },
            { date: "2026-01-21", title: "ETF N·ªôi: Review", type: "etf", desc: "Xem x√©t ƒë·ªãnh k·ª≥: HOSE, VNFIN LEAD, VN50, VNMITECH" },
            { date: "2026-01-27", title: "FED: H·ªçp FOMC (Ng√†y 1)", type: "macro", desc: "H·ªçp Ch√≠nh s√°ch ti·ªÅn t·ªá" },
            { date: "2026-01-28", title: "FED: C√¥ng b·ªë L√£i su·∫•t", type: "macro", desc: "K·∫øt qu·∫£ h·ªçp FOMC th√°ng 1" },
            { date: "2026-02-02", title: "ETF: Hi·ªáu l·ª±c danh m·ª•c", type: "etf", desc: "Hi·ªáu l·ª±c: HOSE, VNFIN LEAD, VN50, VNMITECH" },
            { date: "2026-02-04", title: "ECB: H·ªçp ch√≠nh s√°ch", type: "macro", desc: "Ng√¢n h√†ng TW Ch√¢u √Çu h·ªçp" },
            { date: "2026-02-06", title: "GSO: KT-XH", type: "macro", desc: "S·ªë li·ªáu KT-XH Th√°ng 2" },
            { date: "2026-02-16", title: "Ngh·ªâ T·∫øt Nguy√™n ƒê√°n", type: "holiday", desc: "B·∫Øt ƒë·∫ßu ngh·ªâ T·∫øt (29 th√°ng Ch·∫°p)" },
            { date: "2026-02-17", title: "T·∫øt Nguy√™n ƒê√°n (M1)", type: "holiday", desc: "M√πng 1 T·∫øt B√≠nh Ng·ªç" },
            { date: "2026-02-18", title: "T·∫øt Nguy√™n ƒê√°n (M2)", type: "holiday", desc: "M√πng 2 T·∫øt" },
            { date: "2026-02-19", title: "T·∫øt Nguy√™n ƒê√°n (M3)", type: "holiday", desc: "M√πng 3 T·∫øt. ƒê√°o h·∫°n PS d·ªùi l·ªãch." },
            { date: "2026-02-20", title: "T·∫øt Nguy√™n ƒê√°n (M4)", type: "holiday", desc: "M√πng 4 T·∫øt" },
            { date: "2026-02-27", title: "ETF Ngo·∫°i: Cut-off Data", type: "etf", desc: "Ch·ªët d·ªØ li·ªáu FTSE & MarketVector" },
            { date: "2026-02-27", title: "FTSE: C√¥ng b·ªë danh m·ª•c", type: "etf", desc: "FTSE ETF c√¥ng b·ªë danh m·ª•c m·ªõi" },
            { date: "2026-03-05", title: "ECB: H·ªçp ch√≠nh s√°ch", type: "macro", desc: "Ng√¢n h√†ng TW Ch√¢u √Çu h·ªçp" },
            { date: "2026-03-06", title: "GSO: KT-XH", type: "macro", desc: "S·ªë li·ªáu KT-XH Th√°ng 3" },
            { date: "2026-03-13", title: "VNM ETF: C√¥ng b·ªë danh m·ª•c", type: "etf", desc: "MarketVector & STOXX c√¥ng b·ªë" },
            { date: "2026-03-18", title: "FED: C√¥ng b·ªë L√£i su·∫•t", type: "macro", desc: "K·∫øt qu·∫£ h·ªçp FOMC th√°ng 3" },
            { date: "2026-03-19", title: "ƒê√°o h·∫°n Ph√°i sinh", type: "futures", desc: "ƒê√°o h·∫°n VN30F2603" },
            { date: "2026-03-23", title: "ETF Ngo·∫°i: Hi·ªáu l·ª±c", type: "etf", desc: "MarketVector, FTSE30, STOXX, FTSE GEIS" },
            { date: "2026-03-30", title: "FTSE: Interim Review", type: "special", desc: "D·ª± ki·∫øn c√¥ng b·ªë k·∫ø ho·∫°ch n√¢ng h·∫°ng" },
            { date: "2026-03-31", title: "ETF N·ªôi: Cut-off Qu√Ω 2", type: "etf", desc: "Ch·ªët d·ªØ li·ªáu Qu√Ω 2 (T·∫•t c·∫£ ch·ªâ s·ªë)" },
            { date: "2026-04-06", title: "GSO: KT-XH", type: "macro", desc: "S·ªë li·ªáu KT-XH Th√°ng 4" },
            { date: "2026-04-15", title: "ETF N·ªôi: Update VNX", type: "etf", desc: "C·∫≠p nh·∫≠t th√¥ng tin ch·ªâ s·ªë VNX" },
            { date: "2026-04-16", title: "ƒê√°o h·∫°n Ph√°i sinh", type: "futures", desc: "ƒê√°o h·∫°n VN30F2604" },
            { date: "2026-04-16", title: "ECB: H·ªçp ch√≠nh s√°ch", type: "macro", desc: "Ng√¢n h√†ng TW Ch√¢u √Çu h·ªçp" },
            { date: "2026-04-20", title: "ETF N·ªôi: Review", type: "etf", desc: "Xem x√©t: VNDiamond, VNX, VNDIVIDEND" },
            { date: "2026-04-27", title: "Ngh·ªâ b√π Gi·ªó T·ªï", type: "holiday", desc: "Ngh·ªâ b√π Gi·ªó T·ªï H√πng V∆∞∆°ng (10/3 √ÇL)" },
            { date: "2026-04-29", title: "FED: C√¥ng b·ªë L√£i su·∫•t", type: "macro", desc: "K·∫øt qu·∫£ h·ªçp FOMC th√°ng 4" },
            { date: "2026-04-30", title: "Ngh·ªâ L·ªÖ 30/4", type: "holiday", desc: "Gi·∫£i ph√≥ng Mi·ªÅn Nam" },
            { date: "2026-05-01", title: "Ngh·ªâ L·ªÖ 1/5", type: "holiday", desc: "Qu·ªëc t·∫ø Lao ƒë·ªông" },
            { date: "2026-05-04", title: "ETF N·ªôi: Hi·ªáu l·ª±c", type: "etf", desc: "Hi·ªáu l·ª±c: VNDiamond, VNX, VNDIVIDEND" },
            { date: "2026-05-06", title: "GSO: KT-XH", type: "macro", desc: "S·ªë li·ªáu KT-XH Th√°ng 5" },
            { date: "2026-05-21", title: "ƒê√°o h·∫°n Ph√°i sinh", type: "futures", desc: "ƒê√°o h·∫°n VN30F2605" },
            { date: "2026-05-29", title: "ETF Ngo·∫°i: Cut-off Data", type: "etf", desc: "Ch·ªët d·ªØ li·ªáu FTSE & MarketVector" },
            { date: "2026-05-29", title: "FTSE: C√¥ng b·ªë danh m·ª•c", type: "etf", desc: "FTSE GEIS c√¥ng b·ªë danh m·ª•c m·ªõi" },
            { date: "2026-06-04", title: "ECB: H·ªçp ch√≠nh s√°ch", type: "macro", desc: "Ng√¢n h√†ng TW Ch√¢u √Çu h·ªçp" },
            { date: "2026-06-06", title: "GSO: KT-XH", type: "macro", desc: "S·ªë li·ªáu KT-XH Th√°ng 6" },
            { date: "2026-06-12", title: "VNM ETF: C√¥ng b·ªë danh m·ª•c", type: "etf", desc: "MarketVector c√¥ng b·ªë danh m·ª•c" },
            { date: "2026-06-17", title: "FED: C√¥ng b·ªë L√£i su·∫•t", type: "macro", desc: "K·∫øt qu·∫£ h·ªçp FOMC th√°ng 6" },
            { date: "2026-06-18", title: "ƒê√°o h·∫°n Ph√°i sinh", type: "futures", desc: "ƒê√°o h·∫°n VN30F2606" },
            { date: "2026-06-22", title: "ETF Ngo·∫°i: Hi·ªáu l·ª±c", type: "etf", desc: "Hi·ªáu l·ª±c: MarketVector; FTSE GEIS" },
            { date: "2026-06-30", title: "ETF N·ªôi: Cut-off Qu√Ω 3", type: "etf", desc: "Ch·ªët d·ªØ li·ªáu Qu√Ω 3 (T·∫•t c·∫£ ch·ªâ s·ªë)" },
            { date: "2026-07-06", title: "GSO: KT-XH", type: "macro", desc: "S·ªë li·ªáu KT-XH Th√°ng 7" },
            { date: "2026-07-15", title: "ETF N·ªôi: Review", type: "etf", desc: "Xem x√©t: HOSE, VNFIN LEAD, VN50" },
            { date: "2026-07-16", title: "ECB: H·ªçp ch√≠nh s√°ch", type: "macro", desc: "Ng√¢n h√†ng TW Ch√¢u √Çu h·ªçp" },
            { date: "2026-07-16", title: "ƒê√°o h·∫°n Ph√°i sinh", type: "futures", desc: "ƒê√°o h·∫°n VN30F2607" },
            { date: "2026-07-20", title: "ETF N·ªôi: Update FinLead", type: "etf", desc: "C·∫≠p nh·∫≠t th√¥ng tin VNFIN LEAD" },
            { date: "2026-07-29", title: "FED: C√¥ng b·ªë L√£i su·∫•t", type: "macro", desc: "K·∫øt qu·∫£ h·ªçp FOMC th√°ng 7" },
            { date: "2026-08-03", title: "ETF N·ªôi: Hi·ªáu l·ª±c", type: "etf", desc: "Hi·ªáu l·ª±c: HOSE, VNFIN LEAD, VN50" },
            { date: "2026-08-06", title: "GSO: KT-XH", type: "macro", desc: "S·ªë li·ªáu KT-XH Th√°ng 8" },
            { date: "2026-08-20", title: "ƒê√°o h·∫°n Ph√°i sinh", type: "futures", desc: "ƒê√°o h·∫°n VN30F2608" },
            { date: "2026-08-28", title: "ETF Ngo·∫°i: Cut-off FTSE", type: "etf", desc: "Ch·ªët d·ªØ li·ªáu FTSE" },
            { date: "2026-08-28", title: "FTSE: C√¥ng b·ªë danh m·ª•c", type: "etf", desc: "FTSE GEIS c√¥ng b·ªë danh m·ª•c m·ªõi" },
            { date: "2026-08-31", title: "ETF Ngo·∫°i: Cut-off VNM", type: "etf", desc: "Ch·ªët d·ªØ li·ªáu MarketVector" },
            { date: "2026-09-02", title: "Ngh·ªâ L·ªÖ Qu·ªëc Kh√°nh", type: "holiday", desc: "Ngh·ªâ L·ªÖ Qu·ªëc Kh√°nh 2/9" },
            { date: "2026-09-03", title: "Ngh·ªâ L·ªÖ Qu·ªëc Kh√°nh", type: "holiday", desc: "Ngh·ªâ L·ªÖ Qu·ªëc Kh√°nh (Ng√†y 2)" },
            { date: "2026-09-06", title: "GSO: KT-XH", type: "macro", desc: "S·ªë li·ªáu KT-XH Th√°ng 9" },
            { date: "2026-09-10", title: "ECB: H·ªçp ch√≠nh s√°ch", type: "macro", desc: "Ng√¢n h√†ng TW Ch√¢u √Çu h·ªçp" },
            { date: "2026-09-11", title: "VNM ETF: C√¥ng b·ªë danh m·ª•c", type: "etf", desc: "MarketVector & STOXX c√¥ng b·ªë" },
            { date: "2026-09-16", title: "FED: C√¥ng b·ªë L√£i su·∫•t", type: "macro", desc: "K·∫øt qu·∫£ h·ªçp FOMC th√°ng 9" },
            { date: "2026-09-17", title: "ƒê√°o h·∫°n Ph√°i sinh", type: "futures", desc: "ƒê√°o h·∫°n VN30F2609" },
            { date: "2026-09-21", title: "FTSE: N√¢ng h·∫°ng (D·ª± b√°o)", type: "special", desc: "D·ª± ki·∫øn ch√≠nh th·ª©c n√¢ng h·∫°ng Secondary Emerging" },
            { date: "2026-09-21", title: "ETF Ngo·∫°i: Hi·ªáu l·ª±c", type: "etf", desc: "Hi·ªáu l·ª±c: MarketVector, FTSE30, STOXX" },
            { date: "2026-09-30", title: "ETF N·ªôi: Cut-off Qu√Ω 4", type: "etf", desc: "Ch·ªët d·ªØ li·ªáu Qu√Ω 4 (T·∫•t c·∫£ ch·ªâ s·ªë)" },
            { date: "2026-10-06", title: "GSO: KT-XH", type: "macro", desc: "S·ªë li·ªáu KT-XH Th√°ng 10" },
            { date: "2026-10-15", title: "ƒê√°o h·∫°n Ph√°i sinh", type: "futures", desc: "ƒê√°o h·∫°n VN30F2610" },
            { date: "2026-10-19", title: "ETF N·ªôi: Review", type: "etf", desc: "Xem x√©t: VNDiamond, VNX, VNDIVIDEND" },
            { date: "2026-10-21", title: "ETF N·ªôi: Update Info", type: "etf", desc: "C·∫≠p nh·∫≠t th√¥ng tin: HOSE, VN50" },
            { date: "2026-10-28", title: "FED: H·ªçp FOMC (Ng√†y 1)", type: "macro", desc: "H·ªçp Ch√≠nh s√°ch ti·ªÅn t·ªá" },
            { date: "2026-10-29", title: "ECB: H·ªçp ch√≠nh s√°ch", type: "macro", desc: "Ng√¢n h√†ng TW Ch√¢u √Çu h·ªçp" },
            { date: "2026-11-02", title: "ETF N·ªôi: Hi·ªáu l·ª±c", type: "etf", desc: "Hi·ªáu l·ª±c: VNDiamond, VNX, VNDIVIDEND" },
            { date: "2026-11-06", title: "GSO: KT-XH", type: "macro", desc: "S·ªë li·ªáu KT-XH Th√°ng 11" },
            { date: "2026-11-19", title: "ƒê√°o h·∫°n Ph√°i sinh", type: "futures", desc: "ƒê√°o h·∫°n VN30F2611" },
            { date: "2026-11-27", title: "ETF Ngo·∫°i: Cut-off FTSE", type: "etf", desc: "Ch·ªët d·ªØ li·ªáu FTSE" },
            { date: "2026-11-27", title: "FTSE: C√¥ng b·ªë danh m·ª•c", type: "etf", desc: "FTSE GEIS c√¥ng b·ªë danh m·ª•c m·ªõi" },
            { date: "2026-11-30", title: "ETF Ngo·∫°i: Cut-off VNM", type: "etf", desc: "Ch·ªët d·ªØ li·ªáu MarketVector" },
            { date: "2026-12-06", title: "GSO: KT-XH", type: "macro", desc: "S·ªë li·ªáu KT-XH Th√°ng 12" },
            { date: "2026-12-09", title: "FED: C√¥ng b·ªë L√£i su·∫•t", type: "macro", desc: "K·∫øt qu·∫£ h·ªçp FOMC cu·ªëi nƒÉm" },
            { date: "2026-12-10", title: "ECB: H·ªçp ch√≠nh s√°ch", type: "macro", desc: "Ng√¢n h√†ng TW Ch√¢u √Çu h·ªçp" },
            { date: "2026-12-11", title: "VNM ETF: C√¥ng b·ªë danh m·ª•c", type: "etf", desc: "MarketVector c√¥ng b·ªë danh m·ª•c" },
            { date: "2026-12-17", title: "ƒê√°o h·∫°n Ph√°i sinh", type: "futures", desc: "ƒê√°o h·∫°n VN30F2612" },
            { date: "2026-12-21", title: "ETF Ngo·∫°i: Hi·ªáu l·ª±c", type: "etf", desc: "Hi·ªáu l·ª±c: MarketVector, FTSE GEIS" },
            { date: "2026-12-31", title: "ETF N·ªôi: Cut-off Q1/27", type: "etf", desc: "Ch·ªët d·ªØ li·ªáu Qu√Ω 1/2027" }
        ];

        // --- 2. LOGIC X·ª¨ L√ù L·ªäCH ---
        const getLunarDate = (dd, mm, yyyy) => {
             // Logic t√≠nh l·ªãch √¢m ƒë∆°n gi·∫£n h√≥a cho 2026 (tham kh·∫£o)
            const date = new Date(yyyy, mm - 1, dd);
            const tet = new Date(2026, 1, 17); // 17/2/2026 l√† M√πng 1 T·∫øt
            if (date.getTime() === tet.getTime()) return "1/1";
            // ... (Gi·ªØ code c≈© ho·∫∑c d√πng th∆∞ vi·ªán n·∫øu c·∫ßn ch√≠nh x√°c 100%, ƒë√¢y l√† placeholder logic)
            // ƒê·ªÉ demo, t√¥i s·∫Ω hi·ªÉn th·ªã ng√†y/th√°ng ƒë∆°n gi·∫£n
            return ""; 
        };

        const monthNames = ["Th√°ng 1", "Th√°ng 2", "Th√°ng 3", "Th√°ng 4", "Th√°ng 5", "Th√°ng 6", "Th√°ng 7", "Th√°ng 8", "Th√°ng 9", "Th√°ng 10", "Th√°ng 11", "Th√°ng 12"];
        const dayNames = ["Hai", "Ba", "T∆∞", "NƒÉm", "S√°u", "B·∫£y", "CN"];

        // --- 3. COMPONENTS ---

        // Component: √î L·ªãch (Calendar Cell)
        const CalendarCell = ({ day, month, year, events }) => {
            if (!day) return <div className="calendar-cell bg-slate-50/50"></div>;
            
            return (
                <div className="calendar-cell group hover:bg-slate-50 transition-colors">
                    <div className="flex justify-between items-start mb-1">
                        <span className={`text-sm font-bold ml-1 ${[0, 6].includes(new Date(year, month, day).getDay()) ? 'text-slate-400' : 'text-slate-700'}`}>{day}</span>
                        {/* Lunar date placeholder */}
                        {day === 1 || day === 15 ? <span className="text-[9px] text-slate-400 mr-1 italic">{day === 1 ? 'S√≥c' : 'V·ªçng'}</span> : null}
                    </div>
                    <div className="flex flex-col gap-0.5 overflow-hidden">
                        {events.map((ev, idx) => (
                            <div key={idx} className={`evt-badge ${'evt-' + ev.type}`} title={ev.desc}>
                                {ev.title}
                            </div>
                        ))}
                    </div>
                </div>
            );
        };

        // Component: Planner / Note Section (Chi·∫øm 40%)
        const NoteSection = ({ monthTitle, notes, onUpdate, isPrint = false }) => {
            const handleNoteChange = (idx, val) => {
                const newNotes = [...notes];
                newNotes[idx] = val;
                onUpdate(newNotes);
            };

            return (
                <div className="h-full flex flex-col font-hand text-slate-700 relative">
                    {/* Header cho ph·∫ßn Note */}
                    <div className="border-b-2 border-slate-300 pb-2 mb-4">
                        <h3 className="text-xl font-bold uppercase tracking-wide text-slate-800">Analyst Notes</h3>
                        <p className="text-xs text-slate-500">M·ª•c ti√™u & K·∫ø ho·∫°ch h√†nh ƒë·ªông {monthTitle}</p>
                    </div>

                    {/* 1. Top Priorities */}
                    <div className="mb-6">
                        <h4 className="font-bold text-sm text-slate-600 mb-2 uppercase flex items-center gap-2">
                            <span className="w-2 h-2 bg-red-500 rounded-full"></span> Top Priorities
                        </h4>
                        <div className="flex flex-col gap-2">
                            {[0, 1, 2].map(i => (
                                <div key={i} className="flex items-center gap-2">
                                    <div className="w-4 h-4 border border-slate-400 rounded-sm flex-shrink-0"></div>
                                    <input 
                                        type="text" 
                                        className="w-full bg-transparent border-b border-dashed border-slate-300 outline-none text-lg focus:border-blue-500 todo-input"
                                        placeholder={isPrint ? "" : "M·ª•c ti√™u tr·ªçng t√¢m..."}
                                    />
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* 2. Watchlist */}
                    <div className="mb-6">
                        <h4 className="font-bold text-sm text-slate-600 mb-2 uppercase flex items-center gap-2">
                            <span className="w-2 h-2 bg-blue-500 rounded-full"></span> Watchlist / Trading Ideas
                        </h4>
                        <div className="grid grid-cols-2 gap-4">
                            {[0, 1, 2, 3].map(i => (
                                <div key={i} className="border-b border-slate-300 h-8 flex items-end pb-1">
                                    <span className="text-slate-300 text-xs mr-2">M√£:</span>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* 3. Free Notes (Chi·∫øm ph·∫ßn c√≤n l·∫°i) */}
                    <div className="flex-grow flex flex-col">
                        <h4 className="font-bold text-sm text-slate-600 mb-1 uppercase flex items-center gap-2">
                            <span className="w-2 h-2 bg-slate-500 rounded-full"></span> Notes
                        </h4>
                        <div className="flex-grow border-l-2 border-slate-200 pl-4 relative">
                            {/* D√≤ng k·∫ª background cho in ·∫•n */}
                            <div className="absolute inset-0 print-lines pointer-events-none opacity-50 ml-4"></div>
                            <textarea 
                                className="w-full h-full bg-transparent resize-none outline-none leading-[30px] text-lg no-print" 
                                placeholder="Ghi ch√∫ ph√¢n t√≠ch..."
                            ></textarea>
                        </div>
                    </div>
                </div>
            );
        };

        // Component: Main App
        const App = () => {
            const [viewMode, setViewMode] = useState('web'); // 'web' or 'print'
            const [currentDate, setCurrentDate] = useState(new Date(2026, 0, 1));
            const [filter, setFilter] = useState('all');

            // T√≠nh to√°n Grid L·ªãch
            const generateDays = (year, month) => {
                const firstDay = new Date(year, month, 1).getDay();
                const daysInMonth = new Date(year, month + 1, 0).getDate();
                const offset = firstDay === 0 ? 6 : firstDay - 1; // T2 l√† ƒë·∫ßu tu·∫ßn
                
                const grid = [];
                for(let i=0; i<offset; i++) grid.push(null);
                for(let i=1; i<=daysInMonth; i++) grid.push(i);
                return grid;
            };

            const days = generateDays(currentDate.getFullYear(), currentDate.getMonth());
            const currentEvents = rawEvents.filter(e => {
                const eDate = new Date(e.date);
                return eDate.getMonth() === currentDate.getMonth() && eDate.getFullYear() === currentDate.getFullYear();
            }).filter(e => filter === 'all' || e.type === filter);

            const getEventsForDay = (d) => {
                if(!d) return [];
                const dateStr = `2026-${String(currentDate.getMonth()+1).padStart(2,'0')}-${String(d).padStart(2,'0')}`;
                return currentEvents.filter(e => e.date === dateStr);
            };

            // CH·∫æ ƒê·ªò IN ·∫§N (Print Mode)
            if (viewMode === 'print') {
                return (
                    <div>
                        <div className="fixed top-0 left-0 w-full bg-slate-800 text-white p-3 flex justify-between items-center no-print z-50">
                            <span>ƒêang ·ªü ch·∫ø ƒë·ªô in (A4 Ngang). Nh·∫•n Ctrl + P ƒë·ªÉ in.</span>
                            <button onClick={() => setViewMode('web')} className="bg-white text-slate-800 px-3 py-1 rounded font-bold text-sm">Quay l·∫°i Web</button>
                        </div>
                        <div className="pt-10">
                            {[...Array(12)].map((_, monthIdx) => {
                                const mDays = generateDays(2026, monthIdx);
                                const mEvents = rawEvents.filter(e => new Date(e.date).getMonth() === monthIdx);
                                
                                return (
                                    <div key={monthIdx} className="print-container p-8 bg-white">
                                        {/* C·ªòT TR√ÅI: L·ªäCH (60%) */}
                                        <div className="print-cal-section flex flex-col h-full">
                                            <div className="mb-4 flex justify-between items-end border-b-2 border-slate-800 pb-2">
                                                <h1 className="text-4xl font-bold text-slate-800 uppercase">{monthNames[monthIdx]} <span className="text-slate-400 font-light">2026</span></h1>
                                                <div className="text-xs font-bold text-slate-500 uppercase">Vietnam Stock Market</div>
                                            </div>
                                            
                                            <div className="border border-slate-300 flex-grow flex flex-col">
                                                <div className="grid grid-cols-7 border-b border-slate-300 bg-slate-100">
                                                    {dayNames.map(d => <div key={d} className="text-center font-bold py-1 text-sm text-slate-600">{d}</div>)}
                                                </div>
                                                <div className="calendar-grid flex-grow grid-rows-5"> {/* √âp l∆∞·ªõi gi√£n ƒë·ªÅu */}
                                                    {mDays.map((d, i) => {
                                                        const evs = d ? mEvents.filter(e => e.date === `2026-${String(monthIdx+1).padStart(2,'0')}-${String(d).padStart(2,'0')}`) : [];
                                                        return <CalendarCell key={i} day={d} month={monthIdx} year={2026} events={evs} />
                                                    })}
                                                </div>
                                            </div>
                                            
                                            <div className="mt-2 flex gap-3 text-[10px] justify-center text-slate-500">
                                                 <span>üî¥ L·ªÖ/T·∫øt</span>
                                                 <span>üîµ Vƒ© m√¥</span>
                                                 <span>üü¢ ETF</span>
                                                 <span>üü† Ph√°i sinh</span>
                                                 <span>üü£ S·ª± ki·ªán (N√¢ng h·∫°ng)</span>
                                            </div>
                                        </div>

                                        {/* C·ªòT PH·∫¢I: NOTE (40%) */}
                                        <div className="print-note-section h-full">
                                            <NoteSection monthTitle={monthNames[monthIdx]} notes={[]} onUpdate={()=>{}} isPrint={true} />
                                        </div>
                                    </div>
                                )
                            })}
                        </div>
                    </div>
                )
            }

            // CH·∫æ ƒê·ªò WEB (Interactive Mode)
            return (
                <div className="max-w-6xl mx-auto p-6 min-h-screen">
                    <div className="flex justify-between items-end mb-6">
                        <div>
                            <h1 className="text-3xl font-bold text-slate-800">L·ªãch Ch·ª©ng Kho√°n 2026</h1>
                            <p className="text-slate-500">D·ªØ li·ªáu t·ªïng h·ª£p cho Analyst</p>
                        </div>
                        <div className="flex gap-2">
                            <button onClick={() => setViewMode('print')} className="bg-slate-800 text-white px-4 py-2 rounded shadow hover:bg-slate-700 transition flex items-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect></svg>
                                In (Planner View)
                            </button>
                        </div>
                    </div>

                    <div className="bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden flex flex-col md:flex-row">
                        {/* Control Bar */}
                        <div className="w-full md:w-64 bg-slate-50 p-6 border-r border-slate-200 flex flex-col gap-6">
                            <div className="flex justify-between items-center bg-white p-2 rounded shadow-sm">
                                <button onClick={() => setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth()-1, 1))} className="p-1 hover:bg-slate-100 rounded">‚óÄ</button>
                                <span className="font-bold">{monthNames[currentDate.getMonth()]}</span>
                                <button onClick={() => setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth()+1, 1))} className="p-1 hover:bg-slate-100 rounded">‚ñ∂</button>
                            </div>
                            
                            <div>
                                <h3 className="font-bold text-sm text-slate-500 uppercase mb-2">B·ªô l·ªçc</h3>
                                <div className="space-y-1">
                                    <button onClick={() => setFilter('all')} className={`w-full text-left px-3 py-2 rounded text-sm ${filter === 'all' ? 'bg-slate-800 text-white' : 'hover:bg-slate-200'}`}>T·∫•t c·∫£ s·ª± ki·ªán</button>
                                    <button onClick={() => setFilter('macro')} className={`w-full text-left px-3 py-2 rounded text-sm ${filter === 'macro' ? 'bg-blue-100 text-blue-700' : 'hover:bg-slate-200'}`}>Kinh t·∫ø vƒ© m√¥</button>
                                    <button onClick={() => setFilter('etf')} className={`w-full text-left px-3 py-2 rounded text-sm ${filter === 'etf' ? 'bg-green-100 text-green-700' : 'hover:bg-slate-200'}`}>Ho·∫°t ƒë·ªông ETF</button>
                                    <button onClick={() => setFilter('special')} className={`w-full text-left px-3 py-2 rounded text-sm ${filter === 'special' ? 'bg-purple-100 text-purple-700' : 'hover:bg-slate-200'}`}>S·ª± ki·ªán ƒë·∫∑c bi·ªát</button>
                                </div>
                            </div>
                            
                            <div className="mt-auto text-xs text-slate-400">
                                * S·ª± ki·ªán N√¢ng h·∫°ng v√†o T9/2026 l√† d·ª± b√°o.
                            </div>
                        </div>

                        {/* Calendar View */}
                        <div className="flex-grow p-6">
                            <div className="grid grid-cols-7 border-b border-slate-200 mb-2">
                                {dayNames.map(d => <div key={d} className="text-center font-bold pb-2 text-slate-400 text-sm">{d}</div>)}
                            </div>
                            <div className="calendar-grid border-none">
                                {days.map((d, i) => (
                                    <CalendarCell key={i} day={d} month={currentDate.getMonth()} year={2026} events={getEventsForDay(d)} />
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
